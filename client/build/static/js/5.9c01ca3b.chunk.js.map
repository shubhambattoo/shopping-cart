{"version":3,"sources":["utils/fetch.js","views/product/product.module.css","views/product/ViewProduct.jsx"],"names":["request","endpoint","body","customConfig","headers","config","method","JSON","stringify","window","fetch","then","response","a","json","data","ok","Promise","reject","module","exports","breakPoints","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","breakPointsFS","preview","ButtonGroup","next","previous","goToSlide","className","style","arrow_btns","type","onClick","CarouselFullScreen","product","infinite","partialVisible","responsive","keyBoardControl","swipeable","showDots","arrows","customButtonGroup","totalItems","renderButtonGroupOutside","images","map","img","i","preview_large","key","cover_large","src","alt","name","CarouselFitScreen","cover","ViewProduct","id","useParams","setProduct","useContext","CartContext","useState","setProductDetails","colors","setColors","isLoading","setIsLoading","colorSelected","setColorSelected","useEffect","document","classList","add","remove","productId","split","pop","url","res","allColors","color","code","hex","filter","v","findIndex","t","catch","err","fullView","setFullView","view_wrapper","full_view","view_background","view_controller","right_aligned","fs_btn","dark_btn","e","view_foreground","product_details","details_meta","breadcrumb","to","category","cust","getCustomerType","customerType","details_id","productCode","details_info","description","details_more","c","title","backgroundColor","border","selected_color","ratings_reviews","r_count","ratings","total","stars","price_big","currency","format","price","toFixed","details_actions","size_details","sizes","join","action_buy","qty","Noty","layout","progressBar","text","theme","timeout","show","buy_text","buy_icon"],"mappings":"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","file":"static/js/5.9c01ca3b.chunk.js","sourcesContent":["export function request(endpoint, { body, ...customConfig } = {}) {\n  const headers = { 'content-type': 'application/json' };\n\n  const config = {\n    method: body ? 'POST' : 'GET',\n    ...customConfig,\n    headers: {\n      ...headers,\n      ...customConfig.headers,\n    }\n  };\n\n  if (body) {\n    config.body = JSON.stringify(body);\n  }\n\n  return window\n    .fetch(`/api/${endpoint}`, config)\n    .then(async (response) => {\n      const data = await response.json();\n      if (response.ok) {\n        return data;\n      } else {\n        return Promise.reject(data);\n      }\n    });\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"view_wrapper\":\"product_view_wrapper__2mzXD\",\"view_background\":\"product_view_background__1faTq\",\"full_view\":\"product_full_view__2qZzi\",\"view_foreground\":\"product_view_foreground__1uxUO\",\"view_controller\":\"product_view_controller__1mbFE\",\"right_aligned\":\"product_right_aligned__23i1V\",\"arrow_btns\":\"product_arrow_btns__3xb94\",\"fs_btn\":\"product_fs_btn__3S3mq\",\"dark_btn\":\"product_dark_btn__oJwtZ\",\"product_details\":\"product_product_details__2VYs5\",\"details_meta\":\"product_details_meta__1bpPX\",\"breadcrumb\":\"product_breadcrumb__33chX\",\"details_id\":\"product_details_id__3cPlV\",\"details_info\":\"product_details_info__2oZe7\",\"details_more\":\"product_details_more__1UtS-\",\"colors\":\"product_colors__1iUae\",\"ratings_reviews\":\"product_ratings_reviews__10TY-\",\"r_count\":\"product_r_count__1vrSx\",\"stars\":\"product_stars__6Fiai\",\"details_actions\":\"product_details_actions__3lf0W\",\"size_details\":\"product_size_details__1kf2w\",\"action_buy\":\"product_action_buy__28oM5\",\"price\":\"product_price__3ZtTI\",\"price_big\":\"product_price_big__3xaNR\",\"buy_icon\":\"product_buy_icon__1LIhi\",\"preview\":\"product_preview__27lGa\",\"preview_large\":\"product_preview_large__3dueA\",\"cover\":\"product_cover__3fgp4\",\"cover_large\":\"product_cover_large__3vQ25\",\"buy_text\":\"product_buy_text__1knkt\"};","import React, { useEffect, useState, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\nimport { CartContext } from '../../context/cartContext';\nimport { Loader } from '../../components/loader/Loader';\nimport { request } from '../../utils/fetch';\nimport Noty from 'noty';\nimport style from './product.module.css';\nimport './../../../node_modules/noty/lib/noty.css';\nimport './../../../node_modules/noty/lib/themes/relax.css';\n\nconst breakPoints = {\n  superLargeDesktop: {\n    // the naming can be any, depends on you.\n    breakpoint: { max: 4000, min: 1921 },\n    items: 3,\n  },\n  desktop: {\n    breakpoint: { max: 1920, min: 1201 },\n    items: 2,\n  },\n  tablet: {\n    breakpoint: { max: 1200, min: 0 },\n    items: 1,\n  },\n};\n\nconst breakPointsFS = {\n  preview: {\n    // the naming can be any, depends on you.\n    breakpoint: { max: 4000, min: 0 },\n    items: 1,\n  },\n};\n\nconst ButtonGroup = ({ next, previous, goToSlide, ...rest }) => {\n  return (\n    <div className={style.arrow_btns}>\n      <button type=\"button\" onClick={() => previous()}>\n        <span className=\"material-icons\">chevron_left</span>\n      </button>\n      <button type=\"button\" onClick={() => next()}>\n        <span className=\"material-icons\">chevron_right</span>\n      </button>\n    </div>\n  );\n};\n\nconst CarouselFullScreen = ({ product }) => {\n  return (\n    <Carousel\n      infinite={true}\n      partialVisible={false}\n      responsive={breakPointsFS}\n      keyBoardControl\n      swipeable\n      showDots={false}\n      arrows={false}\n      customButtonGroup={<ButtonGroup totalItems={5} />}\n      renderButtonGroupOutside={true}\n    >\n      {product.images.map((img, i) => (\n        <div className={style.preview_large} key={i}>\n          <div className={style.cover_large}>\n            <img src={img.src} alt={product.name} />\n          </div>\n        </div>\n      ))}\n    </Carousel>\n  );\n};\n\nconst CarouselFitScreen = ({ product }) => {\n  return (\n    <Carousel\n      infinite={true}\n      partialVisible={false}\n      responsive={breakPoints}\n      keyBoardControl\n      swipeable\n      showDots={false}\n      arrows={false}\n      customButtonGroup={<ButtonGroup totalItems={5} />}\n      renderButtonGroupOutside={true}\n    >\n      {product.images.map((img, i) => (\n        <div className={style.preview} key={i}>\n          <div className={style.cover}>\n            <img src={img.src} alt={product.name} />\n          </div>\n        </div>\n      ))}\n    </Carousel>\n  );\n};\n\nconst ViewProduct = () => {\n  let { id } = useParams();\n\n  const { setProduct } = useContext(CartContext);\n  const [product, setProductDetails] = useState(null);\n  const [colors, setColors] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [colorSelected, setColorSelected] = useState(1);\n\n  useEffect(() => {\n    document.body.classList.add('noscroll-web');\n    document.body.classList.remove('trans');\n  }, []);\n\n  useEffect(() => {\n    const productId = id.split('-').pop();\n    const url = `products/${productId}`;\n    request(url)\n      .then((res) => {\n        setProductDetails(res.data.product);\n        const allColors = res.data.product.images\n          .map((img) => ({\n            name: img.color,\n            code: img.hex,\n          }))\n          .filter((v, i, a) => a.findIndex((t) => t.name === v.name) === i);\n        setColors(allColors);\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        setProductDetails(null);\n        setIsLoading(false);\n      });\n  }, [id]);\n\n  const [fullView, setFullView] = useState(false);\n\n  function addToCart() {\n    const cartProduct = {\n      qty: 1,\n      product,\n    };\n    setProduct(cartProduct);\n    new Noty({\n      layout: 'bottomCenter',\n      progressBar: false,\n      text: `<div style=\"display:flex; align-items: center;gap:15px;\"><img width=\"40\" src=${product.images[0].src} alt='sneaker' /> <div>Added to cart</div></div>`,\n      theme: 'relax',\n      timeout: 1000\n    }).show();\n  }\n\n  const getCustomerType = (code) => {\n    let cust = '';\n    switch (code) {\n      case 2:\n        cust = 'Men';\n        break;\n      case 3:\n        cust = 'Women';\n        break;\n      case 4:\n        cust = 'Unisex';\n        break;\n      case 5:\n        cust = 'Kids';\n        break;\n      default:\n        cust = 'All';\n        break;\n    }\n    return cust;\n  };\n\n  return isLoading ? (\n    <Loader />\n  ) : (\n    <div>\n      <div\n        className={`${style.view_wrapper} ${fullView ? style.full_view : ''}`}\n      >\n        <div className={style.view_background}>\n          {fullView ? (\n            <CarouselFullScreen product={product} />\n          ) : (\n            <CarouselFitScreen product={product} />\n          )}\n          <div\n            className={`${style.view_controller} ${\n              fullView ? style.right_aligned : ''\n            }`}\n          >\n            <div className={style.fs_btn}>\n              {!fullView ? (\n                <button type=\"button\" onClick={(e) => setFullView(true)}>\n                  <span className=\"material-icons\">add</span>\n                </button>\n              ) : (\n                <button\n                  type=\"button\"\n                  className={style.dark_btn}\n                  onClick={(e) => setFullView(false)}\n                >\n                  <span className=\"material-icons\">close</span>\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n        {!fullView && (\n          <div className={style.view_foreground}>\n            <div className={style.product_details}>\n              <div className={style.details_meta}>\n                <ul className={style.breadcrumb}>\n                  <li>\n                    <Link to=\"/\">Home</Link>\n                  </li>\n                  <li>Products</li>\n                  <li>{product.category}</li>\n                  <li>{getCustomerType(product.customerType)}</li>\n                </ul>\n                <span className={style.details_id}>\n                  Id: {product.productCode}\n                </span>\n              </div>\n              <div className={style.details_info}>\n                <h2>{product.name}</h2>\n                <p>{product.description}</p>\n              </div>\n              <div className={style.details_more}>\n                <div className={style.colors}>\n                  {colors.map((c, i) => (\n                    <span\n                      key={i}\n                      title={c.name}\n                      style={{\n                        backgroundColor: c.code,\n                        border: `1px solid ${\n                          c.name === 'White' ? '#ddd' : c.code\n                        }`,\n                      }}\n                      className={`${\n                        colorSelected === i + 1 ? style.selected_color : ''\n                      }`}\n                      onClick={(e) => setColorSelected(i + 1)}\n                    ></span>\n                  ))}\n                </div>\n                <div className={style.ratings_reviews}>\n                  <div className={style.r_count}>\n                    {product.ratings.total} Reviews\n                  </div>\n                  <div className={style.stars}>\n                    <span className=\"material-icons\">star</span>\n                    <span className=\"material-icons\">star</span>\n                    <span className=\"material-icons\">star</span>\n                    <span className=\"material-icons\">star_half</span>\n                    <span className=\"material-icons\">star_outline</span>\n                  </div>\n                </div>\n              </div>\n              <div className={style.price_big}>\n                {product.currency.format} {product.price.toFixed(2)}\n              </div>\n              <div className={style.details_actions}>\n                <div className={style.size_details}>\n                  <span>Available sizes:</span>\n                  <span>US {product.sizes.join(', ')}</span>\n                </div>\n                <div className={style.action_buy} onClick={addToCart}>\n                  <span className={style.price}>\n                    {' '}\n                    {product.currency.format} {product.price.toFixed(2)}\n                  </span>\n                  <span className={style.buy_text}>Add to Cart</span>\n                  <span className={`material-icons ${style.buy_icon}`}>\n                    shopping_cart\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ViewProduct;\n"],"sourceRoot":""}