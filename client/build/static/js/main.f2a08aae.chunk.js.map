{"version":3,"sources":["context/cartReducer.js","context/cartContext.js","components/loader/Loader.jsx","serviceWorker.js","components/header/Header.jsx","App.jsx","index.js","components/header/header.module.css"],"names":["state","action","type","cartItem","item","cart","find","ci","product","_id","index","findIndex","newItem","qty","price","filter","c","i","newCart","sort","a","b","date","totalCost","getTotal","cartSize","shortid","Date","now","setProduct","payload","id","map","reduce","removeProduct","upItem","allCost","qtyProduct","Number","initialState","CartContext","createContext","CartProvider","children","useReducer","cartReducer","dispatch","Provider","value","qtyUpdate","Loader","className","Boolean","window","location","hostname","match","Header","useContext","style","header","container","header_nav","brand","text_logo","to","Cart","lazy","Home","ViewProduct","App","fallback","path","exact","component","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.f2a08aae.chunk.js","sourcesContent":["import shortid from 'shortid';\n\nexport const SET_PRODUCT = 'SET_PRODUCT';\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT';\nexport const QTY_UPDATE = 'QTY_UPDATE';\n\nexport default (state, action) => {\n  switch (action.type) {\n    case SET_PRODUCT:\n      return setProduct(state, action.payload);\n    case REMOVE_PRODUCT:\n      return removeProduct(state, action.payload);\n    case QTY_UPDATE:\n      return qtyProduct(state, action.payload);\n    default:\n      return state;\n  }\n};\n\nfunction setProduct(state, cartItem) {\n  const item = state.cart.find((ci) => ci.product._id === cartItem.product._id);\n  const index = state.cart.findIndex(\n    (ci) => ci.product._id === cartItem.product._id\n  );\n  if (item) {\n    const newItem = {\n      ...item,\n      qty: item.qty + 1,\n    };\n    newItem['allCost'] = item.product.price * newItem.qty;\n    const cart = state.cart.filter((c, i) => i !== index);\n    const newCart = [...cart, newItem].sort((a, b) => a.date - b.date);\n    const totalCost = getTotal(newCart);\n    return {\n      ...state,\n      totalCost,\n      cart: newCart,\n      cartSize: state.cartSize + 1,\n    };\n  }\n  cartItem['allCost'] = cartItem.product.price;\n  cartItem['id'] = shortid();\n  cartItem['date'] = Date.now();\n  const newCart = [...state.cart, cartItem];\n  const totalCost = getTotal(newCart);\n  return {\n    ...state,\n    totalCost,\n    cart: newCart,\n    cartSize: state.cartSize + 1,\n  };\n}\n\n/**\n * Returns the total of the bag\n * @param {Array} cart all the cart items in a array\n * @returns number\n */\nfunction getTotal(cart) {\n  return cart.map((c) => Number(c.allCost)).reduce((a, b) => a + b, 0);\n}\n\nfunction removeProduct(state, id) {\n  const cart = state.cart.filter((item) => item.id !== id);\n  const totalCost = getTotal(cart);\n  const cartSize = cart.map((c) => c.qty).reduce((a, b) => a + b, 0);\n  return { ...state, cart, totalCost, cartSize };\n}\n\nfunction qtyProduct(state, cartItem) {\n  const item = state.cart.find((ci) => ci.product._id === cartItem.product._id);\n  const upItem = {\n    ...item,\n    qty: cartItem.qty,\n    allCost: item.product.price * cartItem.qty,\n  };\n  const cart = state.cart.filter((item) => item.id !== cartItem.id);\n  const newCart = [...cart, upItem].sort((a, b) => a.date - b.date);\n  const totalCost = getTotal(newCart);\n  const cartSize = newCart.map((c) => c.qty).reduce((a, b) => a + b, 0);\n  return { ...state, cart: newCart, totalCost, cartSize };\n}\n","import React, { createContext, useReducer } from 'react';\nimport cartReducer, { SET_PRODUCT, REMOVE_PRODUCT, QTY_UPDATE } from './cartReducer';\n\nconst initialState = {\n  cart: [],\n  cartSize: 0,\n  totalCost: 0,\n};\n\nexport const CartContext = createContext(initialState);\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(cartReducer, initialState);\n\n  // Actions\n  function setProduct(product) {\n    dispatch({ type: SET_PRODUCT, payload: product });\n  }\n\n  function removeProduct(id) {\n    dispatch({ type: REMOVE_PRODUCT, payload: id });\n  }\n\n  function qtyUpdate(product) {\n    dispatch({type: QTY_UPDATE, payload: product})\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart: state.cart,\n        cartSize: state.cartSize,\n        totalCost: state.totalCost,\n        setProduct,\n        removeProduct,\n        qtyUpdate\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n","import React from 'react';\nimport './Loader.css';\n\nexport const Loader = () => {\n  return (\n    <div className=\"loading-container\">\n      <div className=\"lds-facebook\">\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { CartContext } from '../../context/cartContext';\nimport style from './header.module.css';\n\nconst Header = () => {\n  const { cartSize } = useContext(CartContext);\n\n  return (\n    <header className={style.header}>\n      <div className={style.container}>\n        <nav className={style.header_nav}>\n          <div className={style.brand}>\n            <NavLink className={style.text_logo} to=\"/\">\n              NIKERS\n            </NavLink>\n          </div>\n          <NavLink to=\"/cart\" className={style.cart}>\n            {cartSize || <span className=\"material-icons\">shopping_cart</span>}\n          </NavLink>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React, { lazy, Suspense } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { CartProvider } from './context/cartContext';\nimport Header from './components/header/Header';\nimport { Loader } from './components/loader/Loader';\n\nconst Cart = lazy(() => import('./views/cart/Cart'));\nconst Home = lazy(() => import('./views/homepage/Home'));\nconst ViewProduct = lazy(() => import('./views/product/ViewProduct'));\n\nfunction App() {\n  return (\n    <CartProvider>\n      <Router>\n        <>\n          <Header />\n          <Suspense fallback={<Loader />}>\n            <Switch>\n              <Route path=\"/\" exact component={Home} />\n              <Route path=\"/product/:id\" component={ViewProduct} />\n              <Route path=\"/cart\" component={Cart} />\n              <Route path=\"*\" component={Home} />\n            </Switch>\n          </Suspense>\n        </>\n      </Router>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__Qg6Mi\",\"container_centered\":\"header_container_centered__Lezsp header_container__Qg6Mi\",\"header\":\"header_header__v9FKw\",\"brand\":\"header_brand__1d8Qj\",\"text_logo\":\"header_text_logo__3E6na\",\"logo\":\"header_logo__1X7aW\",\"header_nav\":\"header_header_nav__36LtF\",\"nav_link\":\"header_nav_link__puOVO\",\"cart\":\"header_cart__2VEmI\",\"store_menu_wrapper\":\"header_store_menu_wrapper__1GV10\",\"fader\":\"header_fader__3Z5BG\",\"store_menu\":\"header_store_menu__37gAT\",\"store_menu_item\":\"header_store_menu_item__29G4c\",\"store_menu_title\":\"header_store_menu_title__2WhjL\",\"store_menu_title_active\":\"header_store_menu_title_active__1KDLz\",\"tabs_controller\":\"header_tabs_controller__2BDUt\",\"tab_menus\":\"header_tab_menus__3rKBp\",\"active_tab\":\"header_active_tab__yErhr\"};"],"sourceRoot":""}